R = usa real estate returns
S = s&p500 returns
X = cost of house
D = Down payment percentage
Y = interest rate on mortgage
n = number of years for loan 
P = property tax
M = maintenance cost
r = monthly rent cost 

Approach: 
1) calculate total amount spent on buying a apartment/house during the time period n (30 years)
2) calculate total value of the house after that time period, assuming the annual real estate returns R
3) calculate montly total cost spent 


let’s look at rent vs buy on a 30 year horizon, instead of monthly. who got the better deal in the long run. this addresses all 
we will need to compare the monthly cost of buying house vs renting, and we will assume the renter puts the excess difference in the stock market. 
P = property taxes, P/12*X , but this is payed every year. as house increases in price, so does property tax… 
M = maintenance cost, M/12*X. payed every year, as inflation occurs, maintainance cost should increase 
mortgage payment = (1-D)*X * ( Y/12 * (1+Y/12)^(n*12)) / ((1 + Y/12)^(n*12)-1)
mortgage payment was derived from: 
so the home buyer’s monthly cost is: 
P/12*X + M/12*X + (1-D)*X * ( Y/12 * (1+Y/12)^(n*12)) / ((1 + Y/12)^(n*12)-1)
the houses value in n years (once loan finishes) can be described by: 
X(1+R)^n
which was derived from: (applied once a year) 
Opportunity Cost of buying house vs contributing to 401K 
please read above section “Opportunity Cost” first. 


